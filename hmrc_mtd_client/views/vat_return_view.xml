<?xml version="1.0" encoding="UTF-8"?>
<odoo>
    <record id="mtd_vat_report_form" model="ir.ui.view">
        <field name="name">hmrc_mtd_client.vat.report.form</field>
        <field name="model">mtd.vat.report</field>
        <field name="arch" type="xml">
            <form string="Vat Return Data" class="o_invoice_form" edit="1" create="0" delete="0">
                <sheet string="VAT return">
                    <h2 class="text-center">VAT Report</h2>
                    <div class="oe_button_box" name="button_box">
                        <button attrs="{'invisible': ['|', ('is_submitted', '==', True),('id', '==', False)]}"
                                name="submit_vat_declaration" string="Submit"
                                type="object" class="oe_stat_button" icon="fa-check"/>
                    </div>
                    <div class="table-responsive">
                        <table class="table" style="margin-top:40px;">
                            <tbody>
                                <tr>
                                    <th style="border-top: 0px !important;" scope="row">
                                        <h4>
                                            <b>Details</b>
                                            <field name="id" invisible="1"/>
                                            <field name="is_submitted" invisible="1"/>
                                            <field name="currency_id" invisible="1" readonly="1"/>
                                        </h4>
                                    </th>
                                </tr>
                                <tr>
                                    <th width="80%" scope="row">Registration Number</th>
                                    <td></td>
                                    <td width="20%" colspan="3">
                                        <field name="registration_number" readonly="1"/>
                                    </td>
                                </tr>
                                <tr>
                                    <th width="80%" scope="row">VAT scheme</th>
                                    <td></td>
                                    <td width="20%" colspan="3">
                                        <field name="vat_scheme" readonly="1"/>
                                    </td>
                                </tr>
                                <tr>
                                    <th width="80%" scope="row">Period covered by the return</th>
                                    <td></td>
                                    <td width="20%" colspan="3">
                                        <field name="name" readonly="1"/>
                                    </td>
                                </tr>
                                <tr>
                                    <th style="border-top: 0px !important; padding-top: 4em;">
                                        <h4>
                                            <b>VAT calculations</b>
                                        </h4>
                                    </th>
                                    <th style="border-top: 0px; important; padding-top: 4em;">
                                        <b>Details</b>
                                    </th>
                                    <th style="border-top: 0px; important; padding-top: 4em;">
                                        <b>Value</b>
                                    </th>
                                    <th style="border-top: 0px; important; padding-top: 4em;">
                                        <b>Adjustment</b>
                                    </th>
                                    <th style="border-top: 0px !important; padding-top: 4em;">
                                        <b>Result</b>
                                    </th>
                                </tr>
                                <tr>
                                    <th width="30%" scope="row">[box 1] VAT due this period on sales and other outputs
                                    </th>
                                    <td width="10%">
                                        <button name="get_invoices" type="object"
                                                context="{'tags': ['ST0', 'ST1', 'ST2', 'ST11'], 'tag_type':'Sales'}">
                                            <i class="fa fa-search-plus" aria-hidden="true"/>
                                        </button>
                                    </td>
                                    <td width="20%">
                                        <field name="box_one" readonly="1"/>
                                    </td>
                                    <td width="20%">
                                        <field name="box_one_adj"/>
                                    </td>
                                    <td width="20%">
                                        <field name="vatDueSales" readonly="1"/>
                                    </td>
                                </tr>
                                <tr>
                                    <th width="30%" scope="row">[box 2] VAT due in this period on acquisitions from
                                        other EC Member States
                                    </th>
                                    <td width="10%">
                                        <button name="get_invoices" type="object"
                                                context="{'tags': ['PT8'], 'tag_type':'Bills'}">
                                            <i class="fa fa-search-plus" aria-hidden="true"/>
                                        </button>
                                    </td>
                                    <td width="20%">
                                        <field name="box_two" readonly="1"/>
                                    </td>
                                    <td width="20%">
                                        <field name="box_two_adj"/>
                                    </td>
                                    <td width="20%">
                                        <field name="vatDueAcquisitions" readonly="1"/>
                                    </td>
                                </tr>
                                <tr>
                                    <th width="30%" scope="row">[box 3] Total VAT due (sum of boxes one and two)
                                    </th>
                                    <td width="10%"></td>
                                    <td width="20%">
                                        <field name="box_three" readonly="1"/>
                                    </td>
                                    <td width="20%">
                                        <field name="box_three_adj"/>
                                    </td>
                                    <td width="20%">
                                        <field name="totalVatDue" readonly="1"/>
                                    </td>
                                </tr>
                                <tr>
                                    <th width="30%" scope="row">[box 4] VAT reclaimed in this period on purchases
                                        and other inputs
                                    </th>
                                    <td width="10%">
                                        <button name="get_invoices" type="object"
                                                context="{'tags': ['PT11', 'PT0', 'PT1', 'PT2', 'PT5', 'PT8'], 'tag_type':'Bills'}">
                                            <i class="fa fa-search-plus" aria-hidden="true"/>
                                        </button>
                                    </td>
                                    <td width="20%">
                                        <field name="box_four" readonly="1"/>
                                    </td>
                                    <td width="20%">
                                        <field name="box_four_adj"/>
                                    </td>
                                    <td width="20%">
                                        <field name="vatReclaimedCurrPeriod" readonly="1"/>
                                    </td>
                                </tr>
                                <tr style="border-bottom: 1px solid #E5E5E5 !important;">
                                    <th width="30%" scope="row">[box 5] VAT to pay customs
                                    </th>
                                    <td width="10%"></td>
                                    <td width="20%">
                                        <field name="box_five" readonly="1"/>
                                    </td>
                                    <td width="20%">
                                        <field name="box_five_adj"/>
                                    </td>
                                    <td width="20%">
                                        <field name="netVatDue" readonly="1"/>
                                    </td>
                                </tr>
                                <tr>
                                    <th style="border-top: 0px !important; padding-top: 4em;">
                                        <h4>
                                            <b>Sales and purchases excluding VAT</b>
                                        </h4>
                                    </th>
                                    <th style="border-top: 0px; important; padding-top: 4em;">
                                        <b>Details</b>
                                    </th>
                                    <th style="border-top: 0px !important; padding-top: 4em;">
                                        <b>Value</b>
                                    </th>
                                    <th style="border-top: 0px !important; padding-top: 4em;">
                                        <b>Adjustment</b>
                                    </th>
                                    <th style="border-top: 0px !important; padding-top: 4em;">
                                        <b>Result</b>
                                    </th>
                                </tr>
                                <tr>
                                    <th width="30%" scope="row">[box 6] Total value of sales and all other outputs
                                        excluding VAT (including supplies to EC)
                                    </th>
                                    <td width="10%">
                                        <button name="get_invoices" type="object"
                                                context="{'tags': ['ST0', 'ST1', 'ST2', 'ST11', 'ST4'], 'tag_type':'Sales'}">
                                            <i class="fa fa-search-plus" aria-hidden="true"/>
                                        </button>
                                    </td>
                                    <td width="20%">
                                        <field name="box_six" readonly="1"/>
                                    </td>
                                    <td width="20%">
                                        <field name="box_six_adj"/>
                                    </td>
                                    <td width="20%">
                                        <field name="totalValueSalesExVAT" readonly="1"/>
                                    </td>
                                </tr>
                                <tr>
                                    <th width="30%" scope="row">[box 7] Total value of purchases and all other inputs
                                        excluding VAT(including acquisitions from EC)
                                    </th>
                                    <td width="10%">
                                        <button name="get_invoices" type="object"
                                                context="{'tags': ['PT11', 'PT0', 'PT1', 'PT2', 'PT5', 'PT7', 'PT8'], 'tag_type':'Bills'}">
                                            <i class="fa fa-search-plus" aria-hidden="true"/>
                                        </button>
                                    </td>
                                    <td width="20%">
                                        <field name="box_seven" readonly="1"/>
                                    </td>
                                    <td width="20%">
                                        <field name="box_seven_adj"/>
                                    </td>
                                    <td width="20%">
                                        <field name="totalValuePurchasesExVAT" readonly="1"/>
                                    </td>
                                </tr>
                                <tr>
                                    <th width="40%" scope="row">[box 8] Total value of all supplies of goods, excluding
                                        any VAT, to other EC Member States
                                    </th>
                                    <td width="10%">
                                        <button name="get_invoices" type="object"
                                                context="{'tags': ['ST4'], 'tag_type':'Sales'}">
                                            <i class="fa fa-search-plus" aria-hidden="true"/>
                                        </button>
                                    </td>
                                    <td width="20%">
                                        <field name="box_eight" readonly="1"/>
                                    </td>
                                    <td width="20%">
                                        <field name="box_eight_adj"/>
                                    </td>
                                    <td width="20%">
                                        <field name="totalValueGoodsSuppliedExVAT" readonly="1"/>
                                    </td>
                                </tr>
                                <tr style="border-bottom: 1px solid #E5E5E5 !important;">
                                    <th width="30%" scope="row">[box 9] Total value of all acquisitions of goods,
                                        excluding any VAT, from EC Member States
                                    </th>
                                    <td width="10%">
                                        <button name="get_invoices" type="object"
                                                context="{'tags': ['PT7', 'PT8'], 'tag_type':'Bills'}">
                                            <i class="fa fa-search-plus" aria-hidden="true"/>
                                        </button>
                                    </td>
                                    <td width="20%">
                                        <field name="box_nine" readonly="1"/>
                                    </td>
                                    <td width="20%">
                                        <field name="box_nine_adj"/>
                                    </td>
                                    <td width="20%">
                                        <field name="totalAcquisitionsExVAT" readonly="1"/>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </sheet>
            </form>
        </field>
    </record>

    <record id="action_mtd_vat_form_report" model="ir.actions.act_window">
        <field name="name">VAT Report</field>
        <field name="res_model">mtd.vat.report</field>
        <field name="view_type">form</field>
        <field name="view_id" ref="mtd_vat_report_form"/>
        <field name="target">current</field>
    </record>

    <record id="view_mtd_vat_report_search" model="ir.ui.view">
        <field name="model">mtd.vat.report</field>
        <field name="arch" type="xml">
            <search string="MTD Submissions">
                <filter name='not_submitted' string="not submitted" domain="[('is_submitted', '=', False)]"/>
            </search>
        </field>
    </record>

    <record id="mtd_vat_report_tree_view" model="ir.ui.view">
        <field name="model">mtd.vat.report</field>
        <field name="arch" type="xml">
            <tree string="VAT Reports" edit="0" create="0" delete="1">
                <field name="name"/>
                <field name="submission_date"/>
                <field name="create_date" string="Create Date"/>
            </tree>
        </field>
    </record>

    <record id="action_mtd_vat_tree" model="ir.actions.act_window">
        <field name="name">VAT Reports</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">mtd.vat.report</field>
        <field name="view_type">form</field>
        <field name="view_id" ref="mtd_vat_report_tree_view"/>
        <field name="search_view_id" ref="view_mtd_vat_report_search"/>
    </record>
</odoo>
